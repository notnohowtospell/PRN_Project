<Window x:Class="ProjectPRN.Student.Progress.StudentProgressView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Tiến Độ Học Tập" 
        Height="800" Width="1200"
        WindowStartupLocation="CenterScreen"
        FontFamily="{DynamicResource MaterialDesignFont}"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}">

    <Window.Resources>
        <Style x:Key="ProgressCardStyle" TargetType="materialDesign:Card">
            <Setter Property="Margin" Value="8"/>
            <Setter Property="Padding" Value="16"/>
        </Style>

        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Margin" Value="0,0,0,16"/>
            <Setter Property="Foreground" />
        </Style>

        <Style x:Key="ProgressTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="0,4"/>
        </Style>

        <Style x:Key="ProgressBarStyle" TargetType="ProgressBar" BasedOn="{StaticResource MaterialDesignLinearProgressBar}">
            <Setter Property="Height" Value="8"/>
            <Setter Property="Margin" Value="0,4"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <materialDesign:Card Grid.Row="0" Style="{StaticResource ProgressCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0">
                    <TextBlock Text="TIẾN ĐỘ HỌC TẬP" 
                               Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                               FontWeight="Bold"/>
                    <TextBlock x:Name="txtStudentName" 
                               Text="Sinh viên: [Tên sinh viên]" 
                               Style="{StaticResource MaterialDesignSubtitle1TextBlock}"
                               Margin="0,4"/>
                </StackPanel>

                <Button Grid.Column="1" 
                        Style="{StaticResource MaterialDesignFlatButton}"
                        Content="LÀM MỚI"
                        Click="BtnRefresh_Click"/>
            </Grid>
        </materialDesign:Card>

        <!-- Overall Progress Summary -->
        <materialDesign:Card Grid.Row="1" Style="{StaticResource ProgressCardStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Total Courses -->
                <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                    <materialDesign:PackIcon Kind="School" 
                                           Width="40" Height="40"
                                           HorizontalAlignment="Center"
                                          />
                    <TextBlock x:Name="txtTotalCourses" 
                               Text="0" 
                               FontSize="24" 
                               FontWeight="Bold"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Tổng khóa học" 
                               HorizontalAlignment="Center"
                               Style="{StaticResource MaterialDesignBody2TextBlock}"/>
                </StackPanel>

                <!-- Completed Courses -->
                <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                    <materialDesign:PackIcon Kind="CheckCircle" 
                                           Width="40" Height="40"
                                           HorizontalAlignment="Center"
                                           Foreground="{DynamicResource SecondaryHueMidBrush}"/>
                    <TextBlock x:Name="txtCompletedCourses" 
                               Text="0" 
                               FontSize="24" 
                               FontWeight="Bold"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Đã hoàn thành" 
                               HorizontalAlignment="Center"
                               Style="{StaticResource MaterialDesignBody2TextBlock}"/>
                </StackPanel>

                <!-- In Progress -->
                <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                  <materialDesign:PackIcon Kind="ChartLine"
                                           Width="40" Height="40"
                                           HorizontalAlignment="Center"
                                           Foreground="#FF9800"/>
                    <TextBlock x:Name="txtInProgressCourses" 
                               Text="0" 
                               FontSize="24" 
                               FontWeight="Bold"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Đang học" 
                               HorizontalAlignment="Center"
                               Style="{StaticResource MaterialDesignBody2TextBlock}"/>
                </StackPanel>

                <!-- Overall Progress -->
                <StackPanel Grid.Column="3" HorizontalAlignment="Center">
                    <materialDesign:PackIcon Kind="ChartLine" 
                                           Width="40" Height="40"
                                           HorizontalAlignment="Center"
                                           Foreground="#4CAF50"/>
                    <TextBlock x:Name="txtOverallProgress" 
                               Text="0%" 
                               FontSize="24" 
                               FontWeight="Bold"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Tiến độ tổng thể" 
                               HorizontalAlignment="Center"
                               Style="{StaticResource MaterialDesignBody2TextBlock}"/>
                </StackPanel>
            </Grid>
        </materialDesign:Card>

        <!-- Course Progress List -->
        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto">
            <StackPanel x:Name="CourseProgressContainer" Margin="8">

                
                <TextBlock x:Name="txtNoCourses" 
                           Text="Chưa có khóa học nào được đăng ký"
                           Style="{StaticResource MaterialDesignBody1TextBlock}"
                           HorizontalAlignment="Center"
                           Margin="20"
                           Foreground="{DynamicResource MaterialDesignBodyLight}"
                           Visibility="Collapsed"/>
            </StackPanel>
        </ScrollViewer>

        <!-- Status Bar -->
        <materialDesign:Card Grid.Row="3" Margin="0">
            <StatusBar>
                <StatusBarItem>
                    <TextBlock x:Name="txtStatus" Text="Sẵn sàng"/>
                </StatusBarItem>
                <StatusBarItem HorizontalAlignment="Right">
                    <TextBlock x:Name="txtLastUpdated" Text=""/>
                </StatusBarItem>
            </StatusBar>
        </materialDesign:Card>

        <!-- Loading Overlay -->
        <Grid x:Name="LoadingOverlay" 
              Grid.RowSpan="4" 
              Background="#80000000" 
              Visibility="Collapsed">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <ProgressBar Style="{StaticResource MaterialDesignCircularProgressBar}"
                           Width="50" Height="50"
                           IsIndeterminate="True"/>
                <TextBlock Text="Đang tải dữ liệu..." 
                         Style="{StaticResource MaterialDesignSubtitle1TextBlock}"
                         Foreground="White"
                         Margin="0,16,0,0"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>