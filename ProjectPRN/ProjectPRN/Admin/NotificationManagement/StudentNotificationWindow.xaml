<Window x:Class="ProjectPRN.NotificationManagement.StudentNotificationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:local="clr-namespace:ProjectPRN.NotificationManagement"
        mc:Ignorable="d"
        Title="Thông Báo Của Bạn" Height="600" Width="1100" Background="#FAFAFA">
    <Grid Margin="20">
        <StackPanel>
            <TextBlock Text="📢 Danh sách thông báo" FontSize="20" FontWeight="Bold" Margin="0 0 0 10" />
            <ListView x:Name="NotificationListView" Margin="0,0,0,10">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Grid Margin="0 5 0 5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="300"/>
                                <ColumnDefinition Width="500"/>
                                <ColumnDefinition Width="150"/>
                            </Grid.ColumnDefinitions>

                            <!-- Tiêu đề -->
                            <StackPanel Orientation="Horizontal" Grid.Column="0">
                                <TextBlock Text="{Binding Title}" />
                                <TextBlock Text=" (NEW)" Foreground="Red" FontWeight="Bold" Margin="5,0,0,0" Visibility="Collapsed">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding CreatedDate}" Value="{x:Static sys:DateTime.Now}">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding CreatedDate}" Value="{x:Static sys:DateTime.Today}">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </StackPanel>

                            <!-- Nội dung -->
                            <TextBlock Grid.Column="1" Text="{Binding Content}" TextWrapping="Wrap" />

                            <!-- Ngày tạo -->
                            <TextBlock Grid.Column="2" Text="{Binding CreatedDate, StringFormat=\{0:dd/MM/yyyy\}}" />
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
            <!-- ✅ Nút Quay lại --> 
            <Button Content="Quay lại" Width="100" Margin="0,10,0,0"
            Background="#2196F3" Foreground="White"
            HorizontalAlignment="Left" Click="Back_Click"/>
        </StackPanel>
    </Grid>
</Window>
