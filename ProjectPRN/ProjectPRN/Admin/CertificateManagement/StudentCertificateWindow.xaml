<Window x:Class="ProjectPRN.CertificateManagement.StudentCertificateWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ProjectPRN.CertificateManagement"
        mc:Ignorable="d"
        Title="Chứng chỉ đã hoàn thành khóa học" Height="500" Width="820" Background="#FAFAFA">
    <Grid Margin="20">
        <StackPanel>
            <TextBlock Text="Chứng chỉ của bạn" FontSize="20" FontWeight="Bold" Margin="0,0,0,10"/>

            <!-- Bộ lọc khóa học -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <TextBlock Text="Lọc theo khóa học: " VerticalAlignment="Center"/>
                <ComboBox x:Name="CourseFilterComboBox" Width="200" Margin="10,0,0,0"
                          DisplayMemberPath="CourseName"
                          SelectedValuePath="CourseId"
                          SelectionChanged="CourseFilterComboBox_SelectionChanged"/>
            </StackPanel>

            <DataGrid x:Name="CertificateDataGrid" AutoGenerateColumns="False" IsReadOnly="True" Height="300">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Khóa học" Binding="{Binding Course.CourseName}" Width="*"/>
                    <DataGridTextColumn Header="Ngày cấp" Binding="{Binding IssueDate, StringFormat=\{0:dd/MM/yyyy\}}" Width="150"/>
                    <DataGridTextColumn Header="Mã chứng chỉ" Binding="{Binding CertificateCode}" Width="200"/>
                    <DataGridTemplateColumn Header="Tải xuống" Width="100">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Content="Tải" Click="DownloadCertificate_Click" Tag="{Binding}"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
            <!-- Nút quay lại -->
            <Button Content="Quay lại" Width="100" Height="30" Margin="0,10,0,0" HorizontalAlignment="Left" Click="BackButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
